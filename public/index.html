<!DOCTYPE html>
<html ng-app="calendario"><!-- Aquí debemos referenciar el nombre de nuestro módulo -->
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Calendario CD Rota</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container-fluid">
	        <div class="navbar-header">
	          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
	            <span class="sr-only">Toggle navigation</span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	            <span class="icon-bar"></span>
	          </button>
	          <a class="navbar-brand" href="#">
	            <img src="img/logo.png">
	            Calendario CD Rota
	          </a>
	        </div><!-- /.navbar-header -->
	    </div><!-- /.container-fluid -->
	</div><!-- /.navbar -->
	<div class="container-fluid contenedor">
		<div ng-controller="EquiposController as equiposCtrl"><!-- Indicamos mediante una directiva que controlador vamos a usar -->
			<div class="page-header">
				<partido-equipos></partido-equipos>
			</div>
			<div class="row">
				<div class="col-md-6">
					<partido-images></partido-images>
				</div>
				<div class="col-md-6" ng-controller="TabsController as tabs">
					<ul class="nav nav-tabs nav-justified">
				        <li ng-class="{ active : tabs.tab === 1 }"><a ng-click="tabs.selectTab(1)" href="#">Resultado</a></li>
				        <li ng-class="{ active : tabs.tab === 2 }"><a ng-click="tabs.selectTab(2)" href="#">Goles</a></li>
				        <li ng-class="{ active : tabs.tab === 3 }"><a ng-click="tabs.selectTab(3)" href="#">Ejemplo</a></li>
				    </ul>
				    <div class="tab-content">
				    	<!-- Resultado -->
				    	<div ng-show="tabs.tab === 1">
					    	<partido-resultado></partido-resultado>
						</div>
						<!-- Goles -->
						<div ng-show="tabs.tab === 2">
					    	<partido-goles></partido-goles>
						</div>
						<!-- Ejemplo -->
						<div ng-show="tabs.tab === 3">
							<partido-ejemplo></partido-ejemplo>
						</div>
				    </div>
				</div>
			</div>
			<!-- Comentarios -->
			<div ng-controller="CommentsController as cmtsCtrl">
				<button ng-hide="cmtsCtrl.show" ng-click="cmtsCtrl.toggle()" class="btn btn-primary">Mostrar comentarios <span class="badge">{{cmtsCtrl.comments.length}}</span></button>
				<div ng-show="cmtsCtrl.show" class="panel panel-primary">
				  <div class="panel-heading">
				    <h1 class="panel-title">Comentarios <button ng-click="cmtsCtrl.toggle()" class="close pull-right">&times;</button></h1>
				  </div>
				  <div class="panel-body">
				    <form name="commentsForm" class="form-horizontal" role="form" ng-submit="commentsForm.$valid && cmtsCtrl.addComment()" novalidate>
				      <div class="form-group">
				        <div class="col-sm-6">
				          <textarea ng-model="cmtsCtrl.comment.body" placeholder="Por favor díganos que piensa del partido {{equiposCtrl.equipos.equipoLocal}} - {{equiposCtrl.equipos.equipoVisitante}}" class="form-control" required></textarea>
				        </div>
				        <div class="col-sm-4">
				          <input ng-model="cmtsCtrl.comment.email" ng-disabled="cmtsCtrl.comment.anonymous" type="email" placeholder="Introduzca su email" class="form-control" ng-required="!cmtsCtrl.comment.anonymous">
				          <label>
				            <input ng-model="cmtsCtrl.comment.anonymous" ng-change="cmtsCtrl.anonymousChanged()" type="checkbox">
				            Anónimo
				          </label>
				        </div>
				        <div class="col-sm-2">
				          <button type="submit" class="btn btn-lg">Comentar</button>
				        </div>
				      </div>
				    </form>
				    <div ng-if="!commentsForm.$valid" class="alert alert-danger">Formulario inválido</div>
				    <blockquote ng-repeat="comment in cmtsCtrl.comments">
				      <p>{{comment.body}}</p>
				      <footer>
				        Comentado por 
				        <a ng-if="!comment.anonymous" href="mailto:{{comment.email}}">{{comment.email}}</a> 
				        <em ng-if="comment.anonymous">Anónimo</em>
				        el <span>{{comment.date | date : 'medium'}}</span>
				      </footer>
				    </blockquote>
				  </div>
				</div>
			</div>
			<!-- /Comentarios -->
		</div>
	</div><!-- /.container -->
	<!-- scripts -->
	<script src="js/angular.min.js"></script>
	<script src="js/app.js"></script>
	<!-- /.scripts -->
</body>
</html>